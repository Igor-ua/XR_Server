// Custom INSTAGIB
//
// Widgets for End Game Screen
//

//================================ VICTORY/DEFEAT/DRAW =====================================

create panel "endgame_panel" 15 -10 480 
	create graphic message 0 0 480 120
		param image none

		
create panel "endgame_timer" 360 721 

  create label player_timeleft 0 7 200 24
    param text "Time Left:"
    param char_height 16
    param shadow 1
    param align left

  create label player_minutes 75 5 20 24
    param cvar game_timelimitminutes
    param char_height 20
    param shadow 1
    param align right

  create label player_col 97 0 200 24
    param text ":"
    param char_height 24
    param shadow 1
    param align left

  create label player_seconds 104 5 200 24
    param cvar game_timelimitseconds
    param char_height 20
    param shadow 1
    param align left

hide endgame_panel
hide endgame_timer



//================================== HALL OF FAME ====================================
set _width 480
set _height 120
set _ch_height 14
set _ch_label_height 12
set _hof_width 144
set _hof_height 40
set _text_width 103
set _image human
set _hdist 1
set _dist 4
set _hofsp [_lsp*1.5]

create panel "hall_of_fame_panel" 15 110 [_width] [_height]

    create label stp_title 20 15 [_width-25] 25
        param text "Hall of Fame"
        param textcolor 1 0.9 0
        param char_height 25

    create label "award_name_team" [_hofsp+_ic_width+_hdist] [_tp+_sp+_ic_height+_ch_label_height-1] [_text_width+10] [_ch_height]
    //		param text "The Legion of Man"
            param textcolor 1 1 0
            param char_height [_ch_height]
            param alpha [_inactive]
    create graphic "award_icon_team" [_hofsp+2-5] [_tp+_ic_height] [_ic_width] [_ic_height]
            param image "/textures/awards/cup.s2g"
            param alpha [_inactive]
    create label "award_label_team" [_hofsp+_ic_width+_dist] [_tp+_ic_height] [_text_width+10] [_ch_label_height]
            param text "Winner"
            param textcolor 0 1 0
            param char_height [_ch_label_height]
            param alpha [_inactive]
    create graphic "award_back_team" [_hofsp] [_tp+_ic_height-2] [_hof_width+20] [_hof_height+_dist]
            param image "/gui/standard/blackthing_rnd_sqr.s2g"
            param alpha [_back_alpha]

    create label "award_name_time" [_lsp*2+_ic_width+2+_hof_width+_hdist] [_tp+_sp+_ic_height+_ch_label_height-1] [_text_width] [_ch_height]
    //		param text "45 Minutes"
            param textcolor 1 1 0
            param char_height [_ch_height]
    create graphic "award_icon_time" [_lsp*2+_hof_width+_dist+10] [_tp+_ic_height] [_ic_width] [_ic_height]
            param image "/textures/awards/timer.s2g"
    create label "award_label_time" [_lsp*2+_hof_width+_ic_width+_dist] [_tp+_ic_height] [_text_width] [_ch_label_height]
            param text "Game Time"
            param textcolor 0 1 0
            param char_height [_ch_label_height]
    create graphic "award_back_time" [_lsp*2+_hof_width+20] [_tp+_ic_height-2] [_hof_width-20] [_hof_height+_dist]
            param image /gui/standard/black.s2g
            param alpha [_back_alpha]

    set _mp 2
    set _lmp 2.5

    create label "award_name_map" [_lsp*_lmp+_ic_width+2+_hof_width*_mp+_hdist-4] [_tp+_sp+_ic_height+_ch_label_height-1] [_text_width] [_ch_height]
    //		param text "nsl_crossroads"
            param textcolor 1 1 0
            param char_height [_ch_height]
    create graphic "award_icon_map" [_lsp*_lmp+_hof_width*_mp+_dist-3] [_tp+_ic_height] [_ic_width] [_ic_height]
            param image "/textures/awards/map.s2g"
    create label "award_label_map" [_lsp*_lmp+_hof_width*_mp+_ic_width+_dist-5] [_tp+_ic_height] [_text_width] [_ch_label_height]
            param text "Map"
            param textcolor 0 1 0
            param char_height [_ch_label_height]
    create graphic "award_back_map" [_lsp*_lmp+_hof_width*_mp] [_tp+_ic_height-2] [_hof_width] [_hof_height+_dist]
            param image "/gui/standard/blackthing_sqr_rnd.s2g"
            param alpha [_back_alpha]


    set _x 0
    set _y -4
    set _border 6
    exec #gui_basepath#/ui_frame.cfg

    create graphic "blackthing2" 2 -1 [_width-7] [_height-8]
            param image /gui/standard/black.s2g
            param alpha .6

        
//=================================== MAP REVIEW BOX ====================================


set _team_font_scores 40
set _y_offset 50
set _x_offset 205

create panel "instagib_final_scores_panel" 15 237

    create label title [_x_offset + 41] 20 0 0
        param text "FINAL SCORE"
        param textcolor 1 0.9 0
        param char_height 20

    create label ig_team_red_score [_x_offset + 43] [_y_offset] 0 0
        param text ":"
        param align right
        param char_height [_team_font_scores]
        param textcolor 1 1 1
        param shadow 1

    create label ig_team_red_score [_x_offset + 15] [_y_offset + 2] 0 0
        param cvar gs_transmit1
        param align right
        param char_height [_team_font_scores]
        param textcolor 1 0 0
        param shadow 1    

    create label ig_blue_red_score [_x_offset + 60] [_y_offset + 2] 0 0
        param cvar gs_transmit2
        param align left
        param char_height [_team_font_scores]
        param textcolor 0 0.2 1
        param shadow 1
       

    set _x 0
    set _y 0
    set _width 480
    set _height 130
    set _border 6
    exec #gui_basepath#/ui_frame.cfg

    create graphic "blackthing2" 2 -1 [_width-7] [_height-5]
            param image black.s2g
            param alpha .6
        
        
//=================================== CHAT BOX & BUTTONS ====================================


create panel "endgame_chat_box_panel" 15 375

	create label "endgame_input_target_label" 535 160 460 14
		param align right
		param char_height 14

	create textbox "endgame_input_textbox"    5 326 440 40     lobby_chat_msg
		param commit_cmd "~
			select endgame_input_target_label; param text \"\";~
			chatbox say endgame_chat_box_panel:endgame_chat_box #lobby_chat_msg#;~
			set lobby_chat_msg \"\"
		param abort_cmd "~
			select endgame_input_target_label; param text \"\";~
			set lobby_chat_msg \"\"
		param border 0
		param char_height 14
		param interactive 0
		param keepInput 0

	create chatbox "endgame_chat_box" 5 -4 480 [23 * 14]
		param type public
		param delay_secs 0
		param char_height 14
		param rows 30
		param audible 0
set _x 0
set _y -5
set _border 4
set _width 480
set _height 330
set _image human
set _variation 1
exec #gui_basepath#/ui_frame.cfg

set _x 0
set _y 325 
set _border 4
set _width 480
set _height 22
set _image human
set _variation 1
exec #gui_basepath#/ui_frame.cfg

        
	create graphic "blackthing1" 0 -5 480 350
		param image black.s2g
		param alpha .3

exec ui_instagib_stats_table.cfg